{% extends "base.html" %}

{% block title %}确认绑定 - 代购购物平台{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white text-center">
                    <h4 class="mb-0">确认绑定关系</h4>
                </div>
                <div class="card-body p-4">
                    <!-- 提示信息：显示双方用户名 -->
                    <div class="alert alert-warning mb-4 text-center">
                        您确定要确认「{{ binding.agent.username }}」与「{{ binding.buyer.username }}」的绑定关系吗？
                    </div>

                    <!-- 确认绑定表单：必须包含 form.hidden_tag() -->
                    <form method="POST">
                        {{ form.hidden_tag() }}  <!-- 自动生成 CSRF 令牌隐藏字段 -->

                        <!-- 表单错误提示（可选，增强用户体验） -->
                        {% if form.errors %}
                            <div class="alert alert-danger mb-3">
                                {% for field, errors in form.errors.items() %}
                                    {% for error in errors %}
                                        {{ error }}
                                    {% endfor %}
                                {% endfor %}
                            </div>
                        {% endif %}

                        <!-- 操作按钮组 -->
                        <div class="d-flex gap-3">
                            <!-- 使用表单的 submit 按钮（也可手动写 <button>） -->
                            {{ form.submit(class="btn btn-primary flex-1", value="确认绑定") }}
                            <a href="{{ url_for('binding.binding_detail_by_id', binding_id=binding.id) }}" class="btn btn-secondary flex-1">
                                取消
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}