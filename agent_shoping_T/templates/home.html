{% extends "base.html" %}

{% block title %}首页 - 代购/购物系统{% endblock %}

{% block content %}
<!-- 苹果风格核心样式 -->
<style>
    /* 引入苹果官方字体 */
    @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600&display=swap');

    :root {
        /* 苹果原生色调体系 */
        --apple-bg: #f5f5f7;
        --apple-card-bg: #ffffff;
        --apple-border: #e6e6e8;
        --apple-text-primary: #1d1d1f;
        --apple-text-secondary: #86868b;
        --apple-accent: #0071e3; /* 苹果蓝 */
        --apple-success: #34c759; /* 苹果绿 */
        --apple-warning: #ff9500; /* 苹果橙 */
        --apple-info: #5ac8fa; /* 苹果浅蓝 */
        --apple-secondary: #86868b; /* 苹果灰 */

        /* 通用过渡动画 */
        --apple-transition: all 0.2s ease-in-out;
    }

    /* 全局样式重置 */
    body {
        font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--apple-bg);
        color: var(--apple-text-primary);
        -webkit-font-smoothing: antialiased;
    }

    /* 苹果风格主容器（替代jumbotron） */
    .apple-hero {
        max-width: 900px;
        margin: 3rem auto;
        padding: 3rem 2rem;
        background-color: var(--apple-card-bg);
        border-radius: 24px;
        border: 1px solid var(--apple-border);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        text-align: center;
        transition: var(--apple-transition);
    }

    .apple-hero:hover {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }

    /* 标题样式 */
    .apple-hero-title {
        font-size: 2.5rem;
        font-weight: 600;
        color: var(--apple-text-primary);
        margin-bottom: 1rem;
        letter-spacing: -0.02em;
        line-height: 1.2;
    }

    /* 副标题样式 */
    .apple-hero-subtitle {
        font-size: 1.1rem;
        color: var(--apple-text-secondary);
        margin-bottom: 2rem;
        line-height: 1.5;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
    }

    /* 分割线样式 */
    .apple-divider {
        border: none;
        height: 1px;
        background-color: var(--apple-border);
        margin: 2rem 0;
    }

    /* 苹果风格按钮 */
    .btn-apple {
        border-radius: 20px;
        font-weight: 500;
        padding: 10px 20px;
        font-size: 1rem;
        border: none;
        transition: var(--apple-transition);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        min-width: 120px;
    }

    /* 按钮变体样式 */
    .btn-apple-primary {
        background-color: var(--apple-accent);
        color: white;
    }

    .btn-apple-primary:hover {
        background-color: #0077ed;
        box-shadow: 0 2px 8px rgba(0, 113, 227, 0.3);
        color: white;
    }

    .btn-apple-success {
        background-color: var(--apple-success);
        color: white;
    }

    .btn-apple-success:hover {
        background-color: #2db84e;
        box-shadow: 0 2px 8px rgba(52, 199, 89, 0.3);
        color: white;
    }

    .btn-apple-warning {
        background-color: var(--apple-warning);
        color: white;
    }

    .btn-apple-warning:hover {
        background-color: #ff8c00;
        box-shadow: 0 2px 8px rgba(255, 149, 0, 0.3);
        color: white;
    }

    .btn-apple-info {
        background-color: var(--apple-info);
        color: white;
    }

    .btn-apple-info:hover {
        background-color: #4fc3f7;
        box-shadow: 0 2px 8px rgba(90, 200, 250, 0.3);
        color: white;
    }

    .btn-apple-outline-primary {
        border: 1px solid var(--apple-accent);
        color: var(--apple-accent);
        background-color: transparent;
    }

    .btn-apple-outline-primary:hover {
        background-color: rgba(0, 113, 227, 0.05);
        box-shadow: 0 2px 8px rgba(0, 113, 227, 0.2);
    }

    .btn-apple-outline-success {
        border: 1px solid var(--apple-success);
        color: var(--apple-success);
        background-color: transparent;
    }

    .btn-apple-outline-success:hover {
        background-color: rgba(52, 199, 89, 0.05);
        box-shadow: 0 2px 8px rgba(52, 199, 89, 0.2);
    }

    .btn-apple-outline-secondary {
        border: 1px solid var(--apple-secondary);
        color: var(--apple-secondary);
        background-color: transparent;
    }

    .btn-apple-outline-secondary:hover {
        background-color: rgba(134, 142, 150, 0.05);
        box-shadow: 0 2px 8px rgba(134, 142, 150, 0.2);
    }

    /* 按钮组样式 */
    .apple-btn-group {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 1rem;
    }

    /* 欢迎文本样式 */
    .apple-welcome-text {
        font-size: 1.2rem;
        color: var(--apple-text-primary);
        margin-bottom: 1.5rem;
        font-weight: 500;
    }

    /* 响应式适配 */
    @media (max-width: 768px) {
        .apple-hero {
            padding: 2rem 1.5rem;
            margin: 2rem 1rem;
        }

        .apple-hero-title {
            font-size: 2rem;
        }

        .apple-hero-subtitle {
            font-size: 1rem;
        }

        .btn-apple {
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .apple-btn-group {
            flex-direction: column;
            align-items: center;
        }
    }
</style>

<div class="apple-hero">
    <h1 class="apple-hero-title">欢迎来到代购/购物社区</h1>
    <p class="apple-hero-subtitle">无论是想找人代购商品，还是想为他人提供服务，这里都是你的理想选择</p>
    <hr class="apple-divider">

    <!-- 未登录用户显示登录/注册按钮 -->
    {% if not current_user.is_authenticated %}
        <div class="apple-btn-group">
            <a class="btn btn-apple btn-apple-primary" href="{{ url_for('auth.login') }}" role="button">登录</a>
            <a class="btn btn-apple btn-apple-success" href="{{ url_for('auth.register') }}" role="button">注册</a>
        </div>

    <!-- 已登录用户根据身份显示不同功能按钮 -->
    {% else %}
        <div>

            <!-- 公共入口：代购圈、购物圈 -->
            <div class="apple-btn-group">
                <a class="btn btn-apple btn-apple-outline-primary" href="{{ url_for('agent.agent_circle') }}" role="button">进入代购圈</a>
                {% if current_user.is_agent %}
                    <a class="btn btn-apple btn-apple-outline-success" href="{{ url_for('shopping.shopping_circle') }}" role="button">进入购物圈</a>
                {% endif %}
            </div>

            <!-- 身份专属功能按钮 -->
            <div class="apple-btn-group">
                {% if current_user.is_agent %}
                    <!-- 代购用户：填写行程 -->
                    <a class="btn btn-apple btn-apple-warning" href="{{ url_for('agent.agent_info') }}" role="button">
                        <i class="bi bi-box-seam"></i> 填写行程
                    </a>
                    <a class="btn btn-apple btn-apple-info" href="{{ url_for('agent.contacted_trips') }}" role="button">
                        <i class="bi bi-calendar-plus"></i> 代购商品
                    </a>
                {% else %}
                    <!-- 非代购用户：添加商品 -->
                    <a class="btn btn-apple btn-apple-info" href="{{ url_for('shopping.shopping_info') }}" role="button">
                        <i class="bi bi-calendar-plus"></i> 添加商品
                    </a>
                    <a class="btn btn-apple btn-apple-warning" href="{{ url_for('shopping.purchased_products') }}" role="button">
                        <i class="bi bi-box-seam"></i> 联系行程
                    </a>
                {% endif %}
            </div>

            <!-- 身份切换入口 -->
            <div class="apple-btn-group">
                <a class="btn btn-apple btn-apple-outline-secondary" href="{{ url_for('auth.choose_identity') }}" role="button">
                    <i class="bi bi-exchange"></i> 身份
                </a>
            </div>
        </div>
    {% endif %}
</div>

<!-- 引入Bootstrap图标 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
{% endblock %}